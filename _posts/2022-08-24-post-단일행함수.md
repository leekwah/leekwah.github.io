---
title: 단일행함수
categories:
  - Develop
tags:
  - 오라클 SQL과 PL/SQL
  - ORACLE
  - SQL

---

#  단일행함수

## 단일행함수란?

단일행함수는 한 번에 하나씩 처리하는 함수이다.

## 단일행 함수의 구분

![20220824_1](/_posts/images/20220824_1.png)

### 문자함수

| 함수명         | 의미                                            | 사용 예                          |
| -------------- | ----------------------------------------------- | -------------------------------- |
| INITCAP        | 입력 값의 첫 글자만 대문자로 변환               | INITCAP('abcd') → Abcd           |
| LOWER          | 입력 값을 전부 소문자로 변환                    | LOWER('ABCD') → abcd             |
| UPPER          | 입력 값을 전부 대문자로 변환                    | UPPER('abcd') → ABCD             |
| LENGTH         | 입력된 문자열의 길이 값을 출력                  | LENGTH('한글') → 2               |
| LENGTHB        | 입력된 문자열의 길이의 바이트 값을 출력         | LENGTHB('한글') → 4              |
| CONCAT         | 두 문자열을 결합해서 출력, \|\| 연산자와 동일   | CONCAT('A', 'B') → AB            |
| SUBSTR         | 주어진 문자열에서 특정 문자만 추출              | SUBSTR('ABC',1,2) → AB           |
| SUBSTRB        | 주어진 문자열에서 특정 바이트만 추출            | SUBSTRB('한글',1,2) → 한         |
| INSTR          | 주어진 문자에서 특정 문자의 위치 추출           | INSTR('A*B#', '#') → 4           |
| INSTRB         | 주어진 문자에서 특정 문자의 위치 바이트 값 추출 | INSTRB('한글로', '로') → 5       |
| LPAD           | 주어진 문자열에서 왼쪽으로 특정 문자를 채움     | LPAD('love', 6, '\*') → \*\*love |
| RPAD           | 주어진 문자열에서 오른쪽으로 특정 문자를 채움   | RPAD('love', 6, '\*') → love\*\* |
| LTRIM          | 주어진 문자열에서 왼쪽의 특정 문자를 삭제       | LTRIM('\*love','\*') → love      |
| RTRIM          | 주어진 문자열에서 오른쪽의 특정 문자를 삭제     | RTRIM('love\*','\*') → love      |
| REPLACE        | 주어진 문자열에서 A를 B로 치환                  | REPLACE('AB', 'A','E') → EB      |
| REGEXP_REPLACE | 주어진 문자열에서 특정패턴을 찾아 치환          | 아래 예 참고                     |
| REGEXP_INSTR   | 주어진 문자열에서 특정패턴의 시작 위치를 반환   | 아래 예 참고                     |
| REGEXP_SUBSTR  | 주어진 문자열에서 특정패턴을 찾아 반환          | 아래 예 참고                     |
| REGEXP_LIKE    | 주어진 문자열에서 특정패턴을 찾아 반환          | 아래 예 참고                     |
| REGEXP_COUNT   | 주어진 문자열에서 특정패턴의 횟수를 반환        | 아래 예 참고                     |

---

#### INITCAP( ) 함수

첫 글자만 대문자로 출력하고, 나머지는 전부 소문자로 출력하는 함수이다.

```SQL
INITCAP(문자열 또는 컬럼명)
```

#### LOWER ( ) 함수

함수에 입력되는 값을 전부 소문자로 변경하여 출력한다.

```SQL
LOWER (문자열 또는 컬럼명)
```

#### UPPER ( ) 함수

함수에 입력되는 값을 전부 대문자로 변경하여 출력한다.

```SQL
UPPER (문자열 또는 컬럼명)
```

#### LENGTH / LENGTHB 함수

입력된 문자열의 길이(바이트 수)를 계산해주는 함수이다.<br>주의점 : 영어는 한 글자당 1바이트를 사용하지만, 한글의 경우에는 한 글자당 2바이트를 사용한다.

```SQL
LENGTH(문자열 또는 컬럼명) / LENGHTHB (문자열 또는 컬럼명)
```

#### CONCAT( ) 함수

|| 연산자와 동일한 기능을 갖는 함수이다.

```SQL
CONCAT('문자열1', '문자열2')
```

#### <u>SUBSTR( ) 함수</u>

주어진 문자열에서 특정 길이의 문자만 골라낼 때 사용하는 함수이다.<br>

```SQL
SUBSTR('문자열' 또는 컬럼명, 추출 위치, 추출할 문자 개수)
```

시작 위치가 양수이면 좌측에서 시작하고, 시작 위치가 음수이면 우측에서 역순으로 시작한다.

##### [예제1] 3번째 인자 생략

```SQL
SELECT SUBSTR('ORACLE', 2) FROM DUAL;
-- RACLE 출력
```

2번째 인자 값이 양수이므로, 시작 위치는 좌측이고, 2번째 문자열인 R부터 시작한다.<br>그리고 마지막 문자열 까지 반환된다.

##### [예제2] 3번째 인자 입력

```SQL
SELECT SUBSTR('ORACLE', 2, 3) FROM DUAL;
-- RAC 출력
```

2번째 인자 값이 양수이므로, 시작 위치는 좌측이고, 2번째 문자열인 R부터 시작한다.<br>그리고 2번째 문자인 R부터 3개의 문자열이 반환된다.

##### [예제3] 2번째 인자 음수, 3번째 인자 생략

```SQL
SELECT SUBSTR('ORACLE', -3) FROM DUAL;
-- CLE 출력
```

2번째 인자 값이 음수이므로, 시작 위치는 우측이다.<br>그리고, 뒤에서 3번째 위치까지 반환이 된다. (출력시 순서는 그대로)

##### [예제4] 2번째 인자 음수, 3번째 인자 입력

```SQL
SELECT SUBSTR('ORACLE', -3, 2) FROM DUAL;
-- CL 출력
```

2번째 인자 값이 음수이므로, 시작 위치는 우측이다.<br>-3이기에 시작위치는 C이다.<BR> 그리고 3번째 인자가 2이기에 C로부터 2개의 문자열이 반환된다.

[출처 : 평범한 직장인의 공부 정리:티스토리](https://developer-talk.tistory.com/56) 

#### SUBSTRB( ) 함수

SUBSTR 함수와 문법은 동일하지만 차이점은 추출할 자릿수가 아니라 추출할 바이트 수를 지정하는 것이다.<br>영어는 1바이트이기에 결과가 동일하지만, 한글의 경우네는 결과가 다르게 나온다.

```SQL
SUBSTRB('문자열' 또는 컬럼명, 추출 위치, 추출할 문자 개수)
```

#### INSTR( ) 함수

주어진 문자열이나 컬럼에서 특정 글자의 위치를 찾아주는 함수이다.

```SQL
INSTR('문자열'또는 컬럼, 찾는 글자, 시작 위치, 몇 번째인지(기본값은 1))
```

